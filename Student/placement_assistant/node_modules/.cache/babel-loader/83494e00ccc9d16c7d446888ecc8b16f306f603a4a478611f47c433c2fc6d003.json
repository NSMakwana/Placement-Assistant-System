{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import\"./AnalysisDashboard.css\";import{Pie}from\"react-chartjs-2\";// Import Pie chart from Chart.js\nimport{Chart as ChartJS,ArcElement,Tooltip,Legend}from\"chart.js\";import StudentService from\"../Services/StudentServices\";// Import your service to fetch student data\n// Register Chart.js components\nimport{jsx as _jsx}from\"react/jsx-runtime\";ChartJS.register(ArcElement,Tooltip,Legend);const AnalysisDashboard=()=>{const[placedCount,setPlacedCount]=useState(0);const[nonPlacedCount,setNonPlacedCount]=useState(0);const[pending,setPendingCount]=useState(0);const[loading,setLoading]=useState(true);// New state for loading\n// Fetch student data and calculate placed/non-placed counts\nuseEffect(()=>{StudentService.getStudents().then(response=>{const students=response.data;console.log(\"Students Data:\",students);const placed=students.filter(student=>student.placement_status===\"placed\").length;const nonPlaced=students.filter(student=>student.placement_status===\"not placed\").length;const pending=students.filter(student=>student.placement_status===\"pending\").length;setPlacedCount(placed);setNonPlacedCount(nonPlaced);setPendingCount(pending);}).catch(error=>console.error(\"Error fetching student data:\",error)).finally(()=>setLoading(false));// Set loading to false after data is fetched\n},[]);// Data for the Pie Chart\nconst pieChartData={labels:[\"Placed Students\",\"Non-Placed Students\",\"Pending\"],datasets:[{data:[placedCount,nonPlacedCount,pending],backgroundColor:[\"#4CAF50\",\"#FF5252\",\"purple\"],// Colors for each segment\nhoverBackgroundColor:[\"#66BB6A\",\"#FF867F\",\"#A020F0\"],// Hover colors\nborderColor:[\"#ffffff\",\"#ffffff\",\"#ffffff\"],// Border color\nborderWidth:2}]};// Options for the Pie Chart\nconst pieChartOptions={responsive:true,maintainAspectRatio:true,plugins:{legend:{position:\"top\"},tooltip:{enabled:true}}};// Loading State\nif(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading data...\"});// Show loading message\n}// Render Pie Chart\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"analysis-dashboard\",children:/*#__PURE__*/_jsx(Pie,{data:pieChartData,options:pieChartOptions})});};export default AnalysisDashboard;","map":{"version":3,"names":["React","useEffect","useState","Pie","Chart","ChartJS","ArcElement","Tooltip","Legend","StudentService","jsx","_jsx","register","AnalysisDashboard","placedCount","setPlacedCount","nonPlacedCount","setNonPlacedCount","pending","setPendingCount","loading","setLoading","getStudents","then","response","students","data","console","log","placed","filter","student","placement_status","length","nonPlaced","catch","error","finally","pieChartData","labels","datasets","backgroundColor","hoverBackgroundColor","borderColor","borderWidth","pieChartOptions","responsive","maintainAspectRatio","plugins","legend","position","tooltip","enabled","className","children","options"],"sources":["E:/Nency/MSc CS/Project/Placement-Assistant-System/Student/placement_assistant/src/Components/AnalysisDashboard.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"./AnalysisDashboard.css\";\r\nimport { Pie } from \"react-chartjs-2\"; // Import Pie chart from Chart.js\r\nimport {\r\n  Chart as ChartJS,\r\n  ArcElement,\r\n  Tooltip,\r\n  Legend,\r\n} from \"chart.js\";\r\nimport StudentService from \"../Services/StudentServices\"; // Import your service to fetch student data\r\n\r\n// Register Chart.js components\r\nChartJS.register(ArcElement, Tooltip, Legend);\r\n\r\nconst AnalysisDashboard = () => {\r\n  const [placedCount, setPlacedCount] = useState(0);\r\n  const [nonPlacedCount, setNonPlacedCount] = useState(0);\r\n  const [pending, setPendingCount] = useState(0);\r\n  const [loading, setLoading] = useState(true); // New state for loading\r\n\r\n  // Fetch student data and calculate placed/non-placed counts\r\n  useEffect(() => {\r\n    StudentService.getStudents()\r\n      .then((response) => {\r\n        const students = response.data;\r\n        console.log(\"Students Data:\", students);\r\n        const placed = students.filter((student) => student.placement_status === \"placed\").length;\r\n        const nonPlaced = students.filter((student) => student.placement_status === \"not placed\").length;\r\n        const pending = students.filter((student) => student.placement_status === \"pending\").length;\r\n\r\n        setPlacedCount(placed);\r\n        setNonPlacedCount(nonPlaced);\r\n        setPendingCount(pending);\r\n      })\r\n      .catch((error) => console.error(\"Error fetching student data:\", error))\r\n      .finally(() => setLoading(false)); // Set loading to false after data is fetched\r\n  }, []);\r\n\r\n  // Data for the Pie Chart\r\n  const pieChartData = {\r\n    labels: [\"Placed Students\", \"Non-Placed Students\", \"Pending\"],\r\n    datasets: [\r\n      {\r\n        data: [placedCount, nonPlacedCount, pending],\r\n        backgroundColor: [\"#4CAF50\", \"#FF5252\", \"purple\"], // Colors for each segment\r\n        hoverBackgroundColor: [\"#66BB6A\", \"#FF867F\", \"#A020F0\"], // Hover colors\r\n        borderColor: [\"#ffffff\", \"#ffffff\", \"#ffffff\"], // Border color\r\n        borderWidth: 2,\r\n      },\r\n    ],\r\n  };\r\n\r\n  // Options for the Pie Chart\r\n  const pieChartOptions = {\r\n    responsive: true,\r\n    maintainAspectRatio: true, \r\n    plugins: {\r\n      legend: { position: \"top\" },\r\n      tooltip: { enabled: true },\r\n    },\r\n  };\r\n\r\n  // Loading State\r\n  if (loading) {\r\n    return <div className=\"loading\">Loading data...</div>; // Show loading message\r\n  }\r\n\r\n  // Render Pie Chart\r\n  return (\r\n    <div className=\"analysis-dashboard\">\r\n      {/* <h2>Placement Analysis</h2> */}\r\n      <Pie data={pieChartData} options={pieChartOptions} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AnalysisDashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}