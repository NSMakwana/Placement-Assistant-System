{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{CompanyService}from\"../Services/CompanyServices\";import ResultFilters from\"./ResultFilters\";import CompanyTable from\"./CompanyTable\";import\"./CompanyDashboard.css\";import CompanyDeatilsForm from\"./CompanyDetailsForm\";import CompanyDetails from\"./CompanyDetails\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const CompanyDashboard=_ref=>{let{selectedMenu}=_ref;const[Option,setOption]=useState(\"entercompany\");// Default to \"entercompany\" \nconst[filteredCompany,setFilteredCompany]=useState([]);const[selectedCompany,setSelectedCompany]=useState(null);// Track the selected student\nconst[companies,setCompany]=useState([]);useEffect(()=>{CompanyService.getCompany().then(response=>{setCompany(response.data);//setFilteredStudents(response.data);\n}).catch(error=>console.error(\"Error fetching company:\",error));},[]);const handleFilter=(key,value)=>{let filtered=[...companies];if(key===\"clear\"){filtered=[];setFilteredCompany(filtered);console.log(filtered);return;}// Apply each filter condition progressively (AND logic)\nif(key===\"batch\"&&value){filtered=filtered.filter(s=>s.batch===value);// Filter by batch\n}if(key===\"program\"&&value){filtered=filtered.filter(s=>s.course===value);// Filter by\n}if(key===\"search\"&&value){filtered=filtered.filter(s=>s.name.toLowerCase().includes(value.toLowerCase())// Filter by name\n);}setFilteredCompany(filtered);console.log(filtered);return;};const handleOptionClick=option=>{setOption(option);// Set the currently selected option\n};const renderResultContent=()=>{if(Option===\"entercompany\"){return/*#__PURE__*/_jsxs(\"div\",{className:\"entercompany\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"cheadings\",children:\"Company Details\"}),/*#__PURE__*/_jsx(CompanyDeatilsForm,{})]});}if(selectedCompany){return/*#__PURE__*/_jsxs(\"div\",{className:\"viewcompany\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"back-btn\",onClick:()=>setSelectedCompany(null)// Go back to table\n,children:/*#__PURE__*/_jsx(\"img\",{src:\"/Images/Back.png\",height:\"25px\",width:\"25px\"})}),/*#__PURE__*/_jsx(CompanyDetails,{company:selectedCompany})]});}else{return/*#__PURE__*/_jsxs(\"div\",{className:\"viewcompany\",children:[/*#__PURE__*/_jsx(ResultFilters,{onFilter:handleFilter}),/*#__PURE__*/_jsx(CompanyTable,{companies:filteredCompany,onView:handleViewCompany// Trigger view for selected student\n,onDelete:onDelete})]});}};const handleViewCompany=company=>{setSelectedCompany(company);// Set the selected student\n};const onDelete=id=>{const updatedCompany=companies.filter(company=>company.id!==id);setCompany(updatedCompany);// Update the state to remove the student\n// ssetFilteredCompany(updatedCompany); // Update the filtered list as well\n};const renderContent=()=>{if(selectedMenu===\"Company\"){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cmp-buttons\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"breadcrumb\",children:\"Dashboard > Company\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleOptionClick(\"entercompany\"),children:[/*#__PURE__*/_jsx(\"img\",{src:\"/Images/Side errow.png\",height:\"15px\",width:\"15px\"}),\" Enter Company Details\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleOptionClick(\"viewcompany\"),children:[/*#__PURE__*/_jsx(\"img\",{src:\"/Images/Side errow.png\",height:\"15px\",width:\"15px\"}),\" View Company Details\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"main-section\",children:renderResultContent()})]});}else{/*#__PURE__*/_jsx(\"div\",{});}};return/*#__PURE__*/_jsx(\"div\",{className:\"CompanyDashboard\",children:renderContent()});};export default CompanyDashboard;","map":{"version":3,"names":["React","useEffect","useState","CompanyService","ResultFilters","CompanyTable","CompanyDeatilsForm","CompanyDetails","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CompanyDashboard","_ref","selectedMenu","Option","setOption","filteredCompany","setFilteredCompany","selectedCompany","setSelectedCompany","companies","setCompany","getCompany","then","response","data","catch","error","console","handleFilter","key","value","filtered","log","filter","s","batch","course","name","toLowerCase","includes","handleOptionClick","option","renderResultContent","className","children","onClick","src","height","width","company","onFilter","onView","handleViewCompany","onDelete","id","updatedCompany","renderContent"],"sources":["E:/Nency/MSc CS/Project/Placement-Assistant-System/PA/placement_assistant/src/Components/CompanyDashboard.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport {CompanyService} from \"../Services/CompanyServices\"; \r\nimport ResultFilters from \"./ResultFilters\";\r\nimport CompanyTable from \"./CompanyTable\";\r\nimport \"./CompanyDashboard.css\";\r\nimport CompanyDeatilsForm from \"./CompanyDetailsForm\";\r\nimport CompanyDetails from \"./CompanyDetails\";\r\n\r\n\r\nconst CompanyDashboard = ({ selectedMenu }) => {\r\n    const [Option, setOption] = useState(\"entercompany\"); // Default to \"entercompany\" \r\n    const [filteredCompany, setFilteredCompany] = useState([]);\r\n    const [selectedCompany, setSelectedCompany] = useState(null); // Track the selected student\r\n    const [companies, setCompany] = useState([]);\r\n\r\n      useEffect(() => {\r\n          CompanyService.getCompany()\r\n            .then((response) => {\r\n              setCompany(response.data);\r\n              //setFilteredStudents(response.data);\r\n            })\r\n            .catch((error) => console.error(\"Error fetching company:\", error));\r\n        }, []);\r\n      \r\n    const handleFilter = (key, value) => {\r\n      let filtered = [...companies]; \r\n  \r\n      if (key === \"clear\") {\r\n        filtered=[];\r\n        setFilteredCompany(filtered);\r\n        console.log(filtered);\r\n        return;\r\n      }\r\n     \r\n  \r\n      // Apply each filter condition progressively (AND logic)\r\n      if (key === \"batch\" && value) {\r\n        filtered = filtered.filter((s) => s.batch === value); // Filter by batch\r\n      }\r\n  \r\n      if (key === \"program\" && value) {\r\n        filtered = filtered.filter((s) => s.course === value); // Filter by\r\n      }\r\n  \r\n      if (key === \"search\" && value) {\r\n        filtered = filtered.filter((s) =>s.name.toLowerCase().includes(value.toLowerCase()) // Filter by name\r\n        );\r\n        \r\n      }\r\n      setFilteredCompany(filtered);\r\n      console.log(filtered);\r\n        return; }\r\n\r\n    const handleOptionClick = (option) => {\r\n        setOption(option); // Set the currently selected option\r\n    }; \r\n   \r\n    const renderResultContent = () => {\r\n        if (Option === \"entercompany\") {\r\n            return (\r\n                <div className=\"entercompany\">\r\n                    <h3 className=\"cheadings\">Company Details</h3>\r\n                    <CompanyDeatilsForm />\r\n                </div>\r\n            );\r\n        }\r\n        if (selectedCompany) {\r\n          return (\r\n            <div className=\"viewcompany\">\r\n              <button\r\n                className=\"back-btn\"\r\n                onClick={() => setSelectedCompany(null)} // Go back to table\r\n              >\r\n                <img src=\"/Images/Back.png\" height=\"25px\" width=\"25px\" />\r\n              </button>\r\n              <CompanyDetails company={selectedCompany} />\r\n            </div>\r\n          );\r\n        } else {\r\n            return (\r\n            <div className=\"viewcompany\">\r\n                 <ResultFilters onFilter={handleFilter} />\r\n                 <CompanyTable\r\n                  companies={filteredCompany}\r\n                  onView={handleViewCompany} // Trigger view for selected student\r\n                  onDelete={onDelete}\r\n            />\r\n            </div>\r\n            \r\n            );\r\n           \r\n        }\r\n        \r\n        \r\n    };\r\n    const handleViewCompany = (company) => {\r\n      setSelectedCompany(company); // Set the selected student\r\n    };\r\n    const onDelete = (id) => {\r\n      const updatedCompany = companies.filter((company) => company.id !== id);\r\n      setCompany(updatedCompany); // Update the state to remove the student\r\n      // ssetFilteredCompany(updatedCompany); // Update the filtered list as well\r\n    };\r\n  \r\n    const renderContent = () => {\r\n        if (selectedMenu === \"Company\") {\r\n        return (\r\n            <>                \r\n            <div className=\"cmp-buttons\">\r\n            <div className=\"breadcrumb\">\r\n            Dashboard &gt; Company\r\n            </div>\r\n            <button onClick={() => handleOptionClick(\"entercompany\")}>\r\n            <img src=\"/Images/Side errow.png\" height=\"15px\" width=\"15px\" /> Enter Company Details\r\n            </button>\r\n            <br />\r\n            <button onClick={() => handleOptionClick(\"viewcompany\")}>\r\n            <img src=\"/Images/Side errow.png\" height=\"15px\" width=\"15px\" /> View Company Details\r\n            </button>\r\n            </div>\r\n\r\n            {/* Render student-specific content */}\r\n            <div className=\"main-section\">{renderResultContent()}</div>\r\n            </>\r\n        );\r\n        }\r\n        else{\r\n          <div></div>\r\n        }\r\n\r\n    };    \r\n    \r\n    return <div className=\"CompanyDashboard\">{renderContent()}</div>;\r\n};\r\nexport default CompanyDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}