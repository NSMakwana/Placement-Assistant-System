{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import\"./CompanyFilter.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CompanyFilters=_ref=>{let{onFilter}=_ref;const[batch,setBatch]=useState(\"\");const[companies,setCompanies]=useState([]);// Stores companies for the selected batch\nconst[selectedCompany,setSelectedCompany]=useState(\"\");const[program,setProgram]=useState(\"\");const[search,setSearch]=useState(\"\");// Fetch companies when a batch is selected\nuseEffect(()=>{const fetchCompaniesByBatch=async()=>{if(!batch){setCompanies([]);// Clear companies if no batch is selected\nreturn;}try{const response=await fetch(`http://localhost:8080/api/companies/batch/${batch}`);if(response.ok){const data=await response.json();setCompanies(data);}else{console.error(\"Failed to fetch companies for batch.\");setCompanies([]);// Clear if fetch fails\n}}catch(error){console.error(\"Error fetching companies by batch:\",error);setCompanies([]);}};fetchCompaniesByBatch();},[batch]);// Dependency array ensures this runs when `batch` changes\n// Handle filter changes\nconst handleFilterChange=(filterType,value)=>{if(filterType===\"batch\")setBatch(value);if(filterType===\"company\")setSelectedCompany(value);if(filterType===\"program\")setProgram(value);if(filterType===\"search\")setSearch(value);onFilter(filterType,value);// Notify parent about filter changes\n};// Clear all filters\nconst handleClearFilters=()=>{const clearedFilters={batch:\"\",company:\"\",program:\"\",search:\"\"};setBatch(\"\");setSelectedCompany(\"\");setProgram(\"\");setSearch(\"\");onFilter(\"clear\",clearedFilters);};return/*#__PURE__*/_jsxs(\"div\",{className:\"CompanyFilter\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Batch\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"cselect\",value:batch,onChange:e=>handleFilterChange(\"batch\",e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2018-2019\",children:\"18-19\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2019-2020\",children:\"19-20\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2020-2021\",children:\"20-21\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2021-2022\",children:\"21-22\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2022-2023\",children:\"22-23\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2023-2024\",children:\"23-24\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Company\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"cselect\",value:selectedCompany,onChange:e=>handleFilterChange(\"company\",e.target.value),disabled:!batch||companies.length===0// Disable dropdown if no batch selected or no companies available\n,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select\"}),companies.map((company,index)=>/*#__PURE__*/_jsx(\"option\",{value:company,children:company},index))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Program\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"cselect\",value:program,onChange:e=>handleFilterChange(\"program\",e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select\"}),/*#__PURE__*/_jsx(\"option\",{value:\"MCA\",children:\"MCA\"}),/*#__PURE__*/_jsx(\"option\",{value:\"B.Tech\",children:\"B.Tech\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{src:\"/Images/Search.png\",height:\"22px\",width:\"22px\",alt:\"search\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search...\",value:search,onChange:e=>handleFilterChange(\"search\",e.target.value)})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"cclear-btn\",onClick:handleClearFilters,children:\"Clear Filters\"})})]});};export default CompanyFilters;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","CompanyFilters","_ref","onFilter","batch","setBatch","companies","setCompanies","selectedCompany","setSelectedCompany","program","setProgram","search","setSearch","fetchCompaniesByBatch","response","fetch","ok","data","json","console","error","handleFilterChange","filterType","value","handleClearFilters","clearedFilters","company","className","children","onChange","e","target","disabled","length","map","index","src","height","width","alt","type","placeholder","onClick"],"sources":["E:/Nency/MSc CS/Project/Placement-Assistant-System/PA/placement_assistant/src/Components/CompanyFilter.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"./CompanyFilter.css\";\r\nconst CompanyFilters = ({ onFilter }) => {\r\n  const [batch, setBatch] = useState(\"\");\r\n  const [companies, setCompanies] = useState([]); // Stores companies for the selected batch\r\n  const [selectedCompany, setSelectedCompany] = useState(\"\");\r\n  const [program, setProgram] = useState(\"\");\r\n  const [search, setSearch] = useState(\"\");\r\n\r\n  // Fetch companies when a batch is selected\r\n  useEffect(() => {\r\n    const fetchCompaniesByBatch = async () => {\r\n      if (!batch) {\r\n        setCompanies([]); // Clear companies if no batch is selected\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const response = await fetch(\r\n         `http://localhost:8080/api/companies/batch/${batch}`                                 \r\n        );\r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          setCompanies(data);\r\n        } else {\r\n          console.error(\"Failed to fetch companies for batch.\");\r\n          setCompanies([]); // Clear if fetch fails\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching companies by batch:\", error);\r\n        setCompanies([]);\r\n      }\r\n    };\r\n\r\n    fetchCompaniesByBatch();\r\n  }, [batch]); // Dependency array ensures this runs when `batch` changes\r\n\r\n  // Handle filter changes\r\n  const handleFilterChange = (filterType, value) => {\r\n    if (filterType === \"batch\") setBatch(value);\r\n    if (filterType === \"company\") setSelectedCompany(value);\r\n    if (filterType === \"program\") setProgram(value);\r\n    if (filterType === \"search\") setSearch(value);\r\n\r\n    onFilter(filterType, value); // Notify parent about filter changes\r\n  };\r\n\r\n  // Clear all filters\r\n  const handleClearFilters = () => {\r\n    const clearedFilters = {\r\n      batch: \"\",\r\n      company: \"\",\r\n      program: \"\",\r\n      search: \"\",\r\n    };\r\n\r\n    setBatch(\"\");\r\n    setSelectedCompany(\"\");\r\n    setProgram(\"\");\r\n    setSearch(\"\");\r\n\r\n    onFilter(\"clear\", clearedFilters);\r\n  };\r\n\r\n  return (\r\n    <div className=\"CompanyFilter\">\r\n      {/* Batch Filter */}\r\n      <div>\r\n        <label>Batch</label>\r\n        <select\r\n          className=\"cselect\"\r\n          value={batch}\r\n          onChange={(e) => handleFilterChange(\"batch\", e.target.value)}\r\n        >\r\n          <option value=\"\">Select</option>\r\n          <option value=\"2018-2019\">18-19</option>\r\n          <option value=\"2019-2020\">19-20</option>\r\n          <option value=\"2020-2021\">20-21</option>\r\n          <option value=\"2021-2022\">21-22</option>\r\n          <option value=\"2022-2023\">22-23</option>\r\n          <option value=\"2023-2024\">23-24</option>\r\n        </select>\r\n      </div>\r\n\r\n      {/* Company Filter */}\r\n      <div>\r\n        <label>Company</label>\r\n        <select\r\n          className=\"cselect\"\r\n          value={selectedCompany}\r\n          onChange={(e) => handleFilterChange(\"company\", e.target.value)}\r\n          disabled={!batch || companies.length === 0} // Disable dropdown if no batch selected or no companies available\r\n        >\r\n          <option value=\"\">Select</option>\r\n          {companies.map((company, index) => (\r\n            <option key={index} value={company}>\r\n              {company}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      {/* Program Filter */}\r\n      <div>\r\n        <label>Program</label>\r\n        <select\r\n          className=\"cselect\"\r\n          value={program}\r\n          onChange={(e) => handleFilterChange(\"program\", e.target.value)}\r\n        >\r\n          <option value=\"\">Select</option>\r\n          <option value=\"MCA\">MCA</option>\r\n          <option value=\"B.Tech\">B.Tech</option>\r\n        </select>\r\n      </div>\r\n\r\n      {/* Search Filter */}\r\n      <div>\r\n        <img src=\"/Images/Search.png\"\r\n          height=\"22px\"\r\n          width=\"22px\"\r\n          alt=\"search\"\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search...\"\r\n          value={search}\r\n          onChange={(e) => handleFilterChange(\"search\", e.target.value)}\r\n        />\r\n      </div>\r\n\r\n      {/* Clear Filters Button */}\r\n      <div>\r\n        <button className=\"cclear-btn\" onClick={handleClearFilters}>\r\n          Clear Filters\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CompanyFilters;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}